I used Selenium web driver with java for my automation, Testng for my reporting.
The Base test file class contains the code for screenshots, The listener class contains the code to listen for a test failure
The test reports are written to a file in the test output folder called index.html
The screenshots are written into the screenshot folder
